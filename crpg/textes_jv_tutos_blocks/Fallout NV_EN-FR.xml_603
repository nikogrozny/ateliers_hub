road forces an on a marked men upon crossing its associated trigger j s float begin road ref not triggered yet set to this var is checked in the mm s ai packages road ref make the marked man snap out of its regular ai set to set the var to then disable the trigger volume disable return end
script that handles activation states of the lever activator tied to the missile launch in road j s short lever has been used and remains in its final position thereafter int lever is retracted tandem console has not been opened by lever is rising lever is extended and ready for use lever has been used these states correspond respectively to the following animation groups on the lever forward backward left player ref left disable set to set to set to return set to set to return end
this script restores proper big horner functionality for that was broken in ref myself ref short rnd begin set rnd to if rnd set to if stonewall set myself to myself else end
this script controls the knockdown effect on the hulking tunnelers while doing this i also fixed the stonewall perk to work properly here fixed with ref myself ref short rnd begin set rnd to if rnd set to if stonewall set myself to myself else end
a message the first time a is picked up begin player if set to end
this script controls the special effects used on the unique bowie knife j s added block to prevent the actor effect from remaining if players sell the weapon while having it equipped short begin player player set to end begin player player set to else if player player set to end
silo this script controls the scripted scenes in the silo elevator ride it will handle several scenes and creature spawning accounted by the var this script has several structural points where no actions are taken yet the frame is such that it will allow quick work on it if necessary during polish phase alpha j s ref short binit initial operations that run once short elevator activator has been triggered short player has carried out some action that would normally disrupt the flow of the scene in question int value corresponds to the number of killed tunnelers set on the tunnelers script proper to the elevator sequence int large collection of events each is discretely considered a scene int operational integer int operational integer defines larger segments than float timer float begin the is disabled skip all code return else if the is enabled continue if binit init check set to silo ref set to silo ref set to silo ref set to silo ref set to silo ref set to set to set to set to set to set to aggression aggression aggression aggression aggression aggression silo ref enable set binit to return else when init conditions are set start with scene if players have not interfered with the scene continue normally set to silo ref set to set to return if ref enable set to set to return ref x ref y ref z set to return ref set to return if ref set to set to set to we reset operational var and move to state return else set to return ref enable silo ref set to set to return else set to return ref saa set to return ref set to return if set to return else set to return saa ref z if set to set silo to return set to return set to if silo flames disable set to set to set to we reset operational and move to state else if set to set silo to return if set to set silo to return else if ref enable enable enable set to set to set to set to return else if set to run the sec timer silo silo ref enable set to set to return if ref x ref y ref z set to set to return if run the sec timer silo silo set to set to return if run the sec timer flames set to return if set to set to return else set to enable set to return silo ref moved in front z saggression set to return ref set to return if z if set to return else set to if z x y z saa set to return else set to if set to set to set to return else set to ref flames disable set to set to return else set to enable set to return silo ref z saggression set to return ref set to return if z if set to return else set to if y z saa set to return else set to if set to set to set to return else set to set to set to return else set to enable set to return silo ref z saggression set to return ref set to return if z if set to return else set to if z saa set to return else set to if silo ref set to set to set to set to else set to if ref disable silo ref set to set to return else set to enable set to return saggression set to return if silo ref else ref set to return if silo else set to return else set to if if silo z y else z saa set to return else set to if set to set to set to return else set to if set to set to return else set to enable set to return saggression set to return ref set to return if if set to return else set to if z saa set to return else set to if set to set to set to return else set to if set to set to return else set to enable set to return saggression set to return if silo ref else ref set to return if silo else set to return else set to if if silo y z else z saa set to return else set to if set to set to set to return else set to end
this script has the functionality for the special tunneler behaviors variable is used to check whether tunneling behavior should begin or not j s reworked conditional dependency on block j s moved work to the block to prevent auto load issues with scripts running j s added new var for structural hierarchy when calling enable disable functions and animation functions erence for the effect that play at location a erence for the effect that play at location erence for location a digging hole erence for location emergence hole short variable to track the teleportation process short tracks which stage of the process we are in stage initial effects and animation at dig hole stage delay for effects then disable and effects stage delay for tunneling time then effects and animation at emergence hole stage delay for effects then disable effects and cleanup short operational variable short tracks initializing settings short tracks whether the tunneler has tried to flee after taking too much damage float timer for delays short fancy shader loaded begin end return else if set to set to set to else if at health the tunneler runs for a digging hole and emerges elsewhere if confidence set to return else variable running this off a character variable so we can use this in a generic form also need to have it set our variable since the value gets cleared when we disable set to variable return else only run the main block once we re ready make the tunneler immune to death aggression player set to return burrow set to return if go to next stage set to set to return else set to return have a time delay before disabling actor and effects this is handled by the end of the script forced animation called above disable the tunneler disable set to return set to set to return have a time delay before moving the disabled tunneler to its emerge spot set to return else set to return enable enable the tunneler set to set to set to if play emerge animation emerge set to return if set to set to return else set to return if set to return if aggression set to set to set to we re done here now the script will begin checking again the variable conditional end player player end begin this initializes our variables and only runs once if set to set to set to end return at health the tunneler runs for a digging hole and emerges elsewhere if confidence set to running this off a character variable so we can use this in a generic form also need to have it set our variable since the value gets cleared when we disable if variable set to variable if only run the main block once we re ready if make the unkillable aggression player play effects set to play submerge animation burrow set to go to next stage set to have a time delay if set to else disable the effects disable disable set the next time duration for how long he stays tunneling set to go to next stage set to have a time delay if set to else play effects set to enable the enable set the next time duration set to go to next stage set to play emerge animation emerge set the next time duration set to go to next stage set to have a time delay if set to else disable the effects disable make the killable aggression clear variables set to we re done here set this block to not run set to end
this script has the functionality for the special tunneler behaviors variable is used to check whether tunneling behavior should begin or not erence for the effect that play at location a erence for the effect that play at location erence for location a digging hole erence for location emergence hole short variable to track the teleportation process short tracks which stage of the process we are in stage initial effects and animation at dig hole stage delay for effects then disable and effects stage delay for tunneling time then effects and animation at emergence hole stage delay for effects then disable effects and cleanup tracks initializing settings short tracks whether the tunneler has tried to flee after taking too much damage float timer for delays short fancy shader loaded begin end begin player when the tunneler first starts combat with the player initiate his sneak attack sequence if confidence set to end return else if set to set to set to else if after starting combat the tunneler runs for a digging hole and emerges elsewhere variable running this off a character variable so we can use this in a generic form also need to have it set our variable since the value gets cleared when we disable set to variable return else only run the main block once we re ready make the tunneler immune to death aggression player set to return burrow set to return if go to next stage set to set to return else set to return have a time delay before disabling actor and effects this is handled by the end of the script forced animation called above disable the tunneler disable set to return set to set to return have a time delay before moving the disabled tunneler to its emerge spot set to return else set to return enable enable the tunneler set to set to set to if play emerge animation emerge set to return if set to set to return else set to return if set to return if aggression set to set to set to we re done here now the script will begin checking again the variable conditional end player player end begin this initializes our variables and only runs once if set to set to set to end begin player when the tunneler first starts combat with the player initiate his sneak attack sequence if confidence set to end return running this off a character variable so we can use this in a generic form also need to have it set our variable since the value gets cleared when we disable if variable set to variable if only run the main block once we re ready if make the unkillable aggression player play effects set to play submerge animation burrow set to go to next stage set to have a time delay if set to else disable the effects disable disable set the next time duration for how long he stays tunneling set to go to next stage set to have a time delay if set to else play effects set to enable the enable set the next time duration set to go to next stage set to play emerge animation emerge set the next time duration set to go to next stage set to have a time delay if set to else disable the effects disable make the killable aggression clear variables set to we re done here set this block to not run set to end
road enables trailer begin player road enable disable end
this script controls the scripted scenes in collapsed overpass tunnel it will handle several scenes and creature spawning accounted by the var j s short player has carried out some action that would normally disrupt the flow of the scene in question these are still not used they are here for support purpose in case they become necessary during alpha polishing short first wave of tunnelers has spawned short second wave of tunnelers has spawned short third wave of tunnelers has spawned int large collection of events each is discretely considered a scene int operational integer int operational integer defines larger segments than float timer float return else if return else if in this scene we don t worry about timing any special reveals the reveals have already been done above if this var is one once players cross the finale trigger which puts them between three burrowing holes gives chance to plant mines in one set to if for we simply prepare the scene by playing a familiar by now scare sound secs after the finale trigger is crossed set to return as in scene we simply proceed to enable play idle run timer set ghost aggression and enable the next tunneler in line if this sequence repeats with three tunnelers which make wave and then starts scene which spawns wave tunnelers total enable set to return emerge saa set to return if saa set to set to return else set to return if enable aggression set to return emerge saa set to set to return if saa set to set to return else set to return if enable aggression set to return emerge saa set to return if saa set to set to set to return else set to return if aggression set to set to set to we reset and move to where we prepare the next tunnelers return here we prepare the next wave of tunnelers wave which is to spawn immediately after wave aggression aggression aggression set to set to we move the scene to return this scene is identical to scene but spawning wave tunnelers instead if set to if set to return set to return set to return if this sequence repeats with three tunnelers which make wave and then starts scene which spawns wave tunnelers total enable set to return emerge saa set to return if saa set to set to return else set to return if enable aggression set to return emerge saa set to set to return if saa set to set to return else set to return if enable aggression set to return emerge saa set to return if saa set to set to set to return else set to return if aggression set to set to set to we reset and move to where we prepare the next tunnelers return set to set to set to in case that we want to run a sixth scene or prepare the level for when players return to it after beating set to set to set to disable return end
this script activates the fake ulysses to appear begin player enable disable end
this script activates the fake ulysses to appear begin player enable disable end
timer to control ed e s hourly item crafting begin set to end
duplicate of script but with a modified death for venomous tunnelers added set restrained and resets on to get the jitter out of the burrow animations erence for the effect that play at location a erence for the effect that play at location erence for location a digging hole erence for location emergence hole short variable to track the teleportation process short tracks which stage of the process we are in stage initial effects and animation at dig hole stage delay for effects then disable and effects stage delay for tunneling time then effects and animation at emergence hole stage delay for effects then disable effects and cleanup tracks initializing settings short tracks whether the tunneler has tried to flee after taking too much damage float timer for delays short fancy shader loaded player player end begin this initializes our variables and only runs once if set to set to set to end begin player when the tunneler first starts combat with the player initiate his sneak attack sequence if confidence set to end return else if set to set to set to else if after starting combat the tunneler runs for a digging hole and emerges elsewhere variable running this off a character variable so we can use this in a generic form also need to have it set our variable since the value gets cleared when we disable set to variable return else only run the main block once we re ready make the tunneler immune to death aggression player set to return burrow set to return if go to next stage set to set to return else set to return if set to if have a time delay before disabling actor and effects this is handled by the end of the script forced animation called above disable the tunneler disable set to set to return set to set to return have a time delay before moving the disabled tunneler to its emerge spot set to return else set to return enable enable the tunneler set to set to set to if play emerge animation emerge set to return if set to set to return else set to return if set to return set to if aggression set to set to set to set to we re done here now the script will begin checking again the variable conditional end
script script for ulysses final greeting through ed e moved ed e s removal from factions to to stop him from detecting enemies and breaking the scene enabling divide bad guys here to stop ed e from chasing them moved the enabling of the marked men to a different area of the divide short float short int stage number for the timer short makes sure the trigger only goes off once short starts timer float timer to disable the fly away version of ed e begin player if set to take ed e away set to set to remove companion perk clean up companion factions set ed e s aggression to unaggressive aggression end set to if set to player move ed e restrain ed e disable enable player enable enable a player set to forward set to player if set to set to disable set to disable set to end
road this script runs on triggers which turn a var road box to signaling the okay to start ambush flare scene j s short begin player if road box if player set road box to disable else disable end
script to handle spawning of the marked men during the temple battle moved from added a check for ulysses being dead to spawn the marked men in the event of a hit kill on him short spawning of wave marked men has started short marked men spawn when ulysses is at health or dead if set to set to set to set to set to set to set to if indicates when the marked men can spawn if enable else enable set to if if enable else enable set to set to if if enable else enable set to set to if if enable else enable set to set to if set to set to if if enable else enable set to if if enable else enable set to set to if if enable else enable set to set to if if enable else enable set to set to if set to set to marked men throwing satchel charges if set to if else set to set to if set to secondary wave of marked men spawning if marked men spawn when ulysses is the player s friend set to set to set to set to set to set to if indicates when the marked men can spawn if enable else enable set to if if enable else enable set to set to set to if if enable else enable set to set to if if enable else enable set to set to if set to set to if if enable else enable set to if if enable else enable set to set to if if enable else enable set to set to if if enable else enable set to set to if set to set to end
this script handles the radiation healing marked men since radiation doesn t function on updated to use food so we re not using which adds the effect to the base object short runs the initialize script only once reference blah begin set to end begin set to if dispel end
road script that makes two marked men in the laser detonator ambush re evaluate their ai when crossing the associated trigger j s short bone short begin road rush ref if bone road rush ref set bone to end begin road rush ref if road rush ref set to end