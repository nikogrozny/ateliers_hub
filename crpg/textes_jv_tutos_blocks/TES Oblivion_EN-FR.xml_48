se this sets journal when s blood is taken from her corpse it is a death item begin player se b end
short short short door short float float begin enable end begin this block deals with a delay then activation of the secret door if door if se b set to set door to if door if if gt set to else set to set door to if if se activate set to set to if if gt set to else se b set to end begin se if se b set se b to end
handles scripting for used in se short follow flag set in dialogue used for updating follow packages short flag updated when first entering used to turn off following outside of short flag set in dialogue used for updating topics short flag set in dialogue used for updating topics short flag set in scripting used for at start of quest short flag set in dialogue used for updating dialogue if player refuses to start quest right away short temp flag for scripting gs death scenes float timer begin if se gt if se lt if player return else activate else activate else activate end begin if se if if player lt player set to if set timer to se ref say se set to if timer gt set timer to timer else se ref kill se ref kill kill set to if if if player set to set follow to if player set to set follow to end begin conditioned on not being in cell when scripted death occurs if if se set se reinforce to se reinforce end
handles variables and scripting for golden saint short hostage flag set when is restrained in the chair for se short flag used to update var in quest script short flag set when dies after dialogue short greet flag set when starts conversation with player at stage float timer timer var used to update se begin if se gt if se lt if player return else activate else activate else activate if se gt if se gt if se lt if player return else activate else activate else activate else activate end begin temp scripting set up as a hostage in cell if se lt if hostage set hostage to set timer to when player approaches cell if se if se if greet if player lt aggression player set greet to when player and followers reach cell start killing off saints if if amp amp player if timer lt set se to set to else set timer to timer drops dead after speaking to player if set timer to kill se set to if timer gt set timer to timer else se set to end
se begin player adds apostle faction to player while wearing robes player se set se to end begin player removes apostle faction from player when robes are removed if se player se set se to end
se short variable for apostle being hostile to player begin if se if player if se if player gt player end
short control variable short control variable begin message for player to get s eye if se if amp amp message you carefully cut out s eye player se set se to se set to else activate else activate end begin if se if set to controls disposition for robes if player if se player end begin sets quest stage on s death if se se se set se to set se to set se to set se to end begin player se end
se actors s steward and main source of help for the player the chef for no real interaction is required but figures into the feast portion of the quest and has a key the target of the quest the duke of mania objects se the altar in the sacellum that must be activated with s blood to finish quest se when dies this item will be in his inventory this is the quest s main goal se when this trigger is broken the player will be observing wide eye s entry to silo se the actual pile of in silo that yields se s meal tray when encountered in his quarters in the kitchen area se s wine when encountered in his quarters in the kitchen area se s meal when encountered at the feast table in the main hall of the house of mania se s wine when encountered at the feast table in the main hall of the house of mania se the trophy for completing se b that appears in the palace of se the drug the player uses to spike s meal and his wine and can be ingested if desired short variable short variable short variable short variable short variable short variable short seducers variable short notes wide eye is on his patrol mode where she may be suspicious of player following short serves for marking which phase of s serving finds he is in package toggle short for triggering an ambush package on short for triggering an ambush package on short for triggering a block that makes vanish short this counts how many doses the player has picked up and pops journal at right time short alarm this counts the levels of alarm for wide eye stages short wide eye s attack trigger short conversation trigger short go variable short this is a blocker so you can t re spike the food and lose the other dose of short this is a blocker so you can t re spike the wine and lose the other dose of short when this variable is set to it sets up the final part of se b short failsafe this guarantees the wine food will appear whether is loaded or not short guard go this is used for the patrols in s living quarters short guard go this is used for the patrols in s living quarters short silo go this is used for the patrols in silo short silo go this is used for the patrols in silo short silo go this is used for the patrols in silo short silo go this is used for the patrols in silo short this is a failsafe backup to make sure meal and wine appears at the right time short this is a failsafe backup to make sure served meal and wine appears at the right time short this is a failsafe backup to make sure makes it to the feast in timely manner short this is a failsafe backup to make sure makes it to the feast in timely manner short kill offscreen short for the offscreen kill distance check short variable used for the last lines of the endgame speech between and to get them to run float makes the script run more frequently than every seconds float float a float variable used to measure the line length for the says in the endgame speech between and float a float variable used to measure a tiny delay needed in endgame speech between weapons drawn and last lines of it begin this makes the seducers flanking syl and the saints flanking draw weapons at the right point in the endgame conversation if if se b se ref se ref se ref se ref set to set to if if gt set to else set to if if amp amp set to say se se set to set to amp amp lt set to say se look se set to amp amp lt set se b to se ref se ref set to set to if gt amp amp lt set to this handles syl s quick exit if se b gt amp amp if se ref se ref set to this denotes that both the wine and the food was spiked which progresses the quest if if se b amp amp se b se b set to this is a failsafe in case is not loaded so the player can t observe him making the food if if se b gt amp amp se b lt if gt amp amp lt if player se enable set to this is a failsafe in case is not loaded so the player can t observe him serving the food if if se b gt amp amp se b lt if gt amp amp lt if player se enable se disable set serves to set to set to set to set to this moves and to the feast at in case they are at level or if if se b gt amp amp se b lt if gt amp amp lt if se set se b serves to set to if if se b gt amp amp se b lt if gt amp amp lt if se set to this is a failsafe for people who don t go see die which is beyond me if if se b gt amp amp se b lt if gt lt if player if serves se kill set to if set to this is the distance check from s corpse that sets stage if was in effect if if player lt if gt set cleanup to se b set to end
se this handles the variables and scripting for se short state flag set based on how se was completed used for controlling ai packages for seducers for saints short flag set to start killing off saints seducers at the appropriate time updated in short reinforce incremented with death of each follower used to determine of reinforcements added when end of cell is reached short flag set when reinforcements are added to the player s party short incremented each time knight of order is killed in last cell of dungeon triggers journal update if player has not defeated all knights in last room when he destroys capstone short flag incremented when has said her piece about at end of quest short flag incremented when has said her piece about syl at end of quest short flag incremented when se topic selected at end of quest short flag set when speaks to player updates quest target short flag set when speaks to player updates quest target short cell chime flag set when player rings the chime in cell used for breaking the associated crystals short cell chime flag set when player rings the chime in cell used for breaking the associated crystals short cell chime flag set when player rings the chime in cell used for breaking the associated crystals short cell chime flag set when player rings the chime in cell used for breaking the associated crystals short used to track conversation begin if player is setting foot inside pr make sure he s at the right point in the quest if player blew off update them and start them following at this point if player if se se se ref se ref if player if se se se ref se ref if if player is on saint path kill off saints if se se kill se ref kill se ref kill se ref se se ref se also kill any males that may have joined the party if se se kill se se if se se kill se se if se se kill se se if se se kill se se and have the player set to or if player is on seducer path kill them off and have him se kill se se ref kill se ref kill se ref se se ref se also kill any males that may have joined the party if se se kill se se if se se kill se se if se se kill se se if se se kill se se set to if player destroyed capstone before killing off all the knights update his journal when they are dead if se if se if gt se if se if se if gt se end
se float used to fade him out when he dies float alpha used to fade him out short ditto float timer used for voice begin trigger quest stage when j dies se set to end begin if lt amp amp health gt amp amp timer lt set timer to se say se end begin player set timer to se say se end begin if timer gt set timer to timer this chunk fades him out after summon if set alpha to set to alpha set to if if gt set to set alpha to alpha alpha lt set alpha to set to set to disable end
se script objects generic obelisk script has some se hooks in it easier than duplicating script for se actors runs timer for his own appearance se gs ds player follower used for audible barks float timer to control progress of obelisk activation short set to when in the process of opening short stage temp variable to prevent calling a million times ref tracks the player s bodyguard set by se short how many of the player s allies have died used to generate new ones short how many squads have been sent to reinforce battle float timer to space out reinforcements arriving short set to while waiting for reinforcements short set to which version of we re using float timer to to appear ref reference to float makes the script run more frequently than every seconds short set up the fringe ref same as in se so that i can move him to the unordered fringe at the end of the quest begin get stage at beginning for simplicity set stage to se if stage gt amp amp player clean up battle and turn guards back on se if stage amp amp player se if se gt return the fringe to unordered clean up dead bodies move the rebuilt gatekeeper there if disable if se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se gatekeeper ref disable se ref disable se ref disable se ref disable se ref disable se disable disable he defects to order and if for some reason he doesn t die at the end of se lets not worry about him at all if se it should never be zero but this prevents the script from breaking in situations where se isn t played through set to se set to none of this should run after quest is complete if stage gt return check for dead allies if gt if set to if lt set to seconds wait for first reinforcements lt set to longer for later reinforcements else set to else if gt set to else time for allies to arrive set to turn off timer set to set to if se enable se enable se enable se enable else set to only bringing in at a time now if lt golden saints se se else dark seducers se se etc bring in if gt decrement timer set to else if se amp amp se se se amp amp se if se se se amp amp se se activate obelisks if gt decrement timer set to else if stage lt wait for player to enter courtyard then start timer if se obelisk marker player lt se se if set to animate activation of obelisk se obelisk ref equip set to set to open second obelisk se end
se begin end
se short checks to see if player has ever opened the door short button control variable for short control variable short active float timer ref myself self ref so that the door can activate the dust begin contains the message boxes for unlocking the door set myself to if amp amp player se no matter how hard you pull the door will not move if amp amp player se set to se added by to implement crumbly door se ref activate myself se ref activate myself player se set timer to se if activate end begin if set timer to timer if timer gt se set to end
se see also se generic activator hands out quest object in gardens of flesh and bone this is until we get the dungeon built with real activators se this handles the in and out of inventory of the gatekeeper body parts when you select them in runs the ceremony scene se handles deactivating crap on altar and the rebuilt gatekeeper in with a variable set in s monologue se se se se script se se se ref holds reference to the gatekeeper that is rebuilt in se set in se variables to help figure out what powers to give the new gatekeeper and what model to enable in se variables are set in se short unset helmless head fortify willpower helm head fortify strength short unset reflect spell reflect damage short unset fire shield shock shield frost shield short unset sword arm fortify blade axe arm fortify blunt mace arm fortify blunt short unset fortify agility fortify endurance short unset fortify health short used to control the weather during the rebuilding the gatekeeper scene begin this creates the strange weather during the rebuilding the gatekeeper scene if if se gt amp amp se lt se set to if se gt player set to end
this script creates the visiting scene in se and ceremony scene in se float this holds the length of the info response to wait until its done being spoken before short controls the flow of the visit with the gatekeeper scene in se short once the player sees the scene that night this variable is true this is a condition on her visit package she stands around for awhile to give the player a chance to see it but leaves as soon as the player sees the scene short determines the distance which the visit scene requires the player to be in to start and finish short used as a condition in the idle manager so that the gatekeeper only reaches towards once during the visit scene short float timer that runs to allow the visit scene to finish before popping up the quest journal ref will be set to the same reference as in se short used to time conditions for packages so will go up to the corpse and say something if she see s a dead gatekeeper and then leave short short used to as condition on packages to make sure the player sees her experiment on victims short prayed used as a condition on a praying package short used as a condition on scripted dialog se misc during when is experimenting on her victims short used as a condition on taking notes package during experimenting scenes short used in se ceremony scene to get to cast spells once per certain quest stage short used in se ceremony scene to conditionalize the running of animations short holds a variable that is used by unique idle anim in idle manager might be set in this script or in dialog results of scripted scenes short unset player sacrifice spell has been cast at player have been disabled set in se topics if the player sacrifices himself to in place of the victims she is torturing she stops torturing them and lets them go victims are disabled in se begin sleep wait if se lt reset the flag that allows her visit package to take effect if if gt if lt set to end begin spying on the sorceress and gatekeeper scene after stage this happens every night before the gatekeeper dies but only advances the quest at the appropriate stage initialize variables if set to if se lt reset the flag that allows her visit package to take effect if if gt if lt set to if se amp amp gt if lt amp amp lt amp amp if if player lt start the scene only if the player is near enough to eavesdrop set to set to se look set to say se set to set to say se set to set to say se set to set to say se set to set to say se set to if i do this the idle are picked correctly but i out of the package if its near the end of the duration it will packages before the scene is done set to if i do this the idle are picked correctly but i out of the package if its near the end of the duration it will packages before the scene is done she always cries in this scene but the relevent story things happen only during the proper quest stage if se if player lt set to set to set to set to set to else set to if if gt set to else set to se enable se if chances by after the gatekeeper is dead her so she picks her inspect the corpse package if se set to se if lt these are s because one or d together line exceeds the max line length if se corpse se corpse se corpse se corpse se corpse se corpse se corpse se corpse else if she isn t doing one of the above tested for packages her so she picks one of them if if lt if if lt set to say se set to she s said her corpse line have her pick a new package set to else set to handles the noble sacrifice scene in se if player cast se player player se set to this performs the ceremony monologue in se if se gt amp amp se lt if se if start the opening of the lid of pool se equip start pool mist se enable because it has collision and named for the mouse over se equip turn on light se ref enable set to continue opening the lid of the pool if if se se forward set to this might need if se set to se look if lt amp amp do these things before saying line if se if cast se set to if se if cast se set to if se if cast se set to if se if cast se set to if se if cast se set to say line set to say se ceremony the topics are conditioned and say once d so that repeated says of the same topic drop through the stack when she is repeating instructions to the player place the x into the cistern add a delay so she doesn t repeat it immediately if se se se se se se set to else set to this makes say things to her victims when she experiments on them if amp amp lt amp amp lt amp amp lt if lt amp amp set to this was set to in se when they get hit with her spell set to say se infos in se misc quest set to pad it so see takes a moment before continuing else set to end begin player end the visit with gatekeeper scene early if se set to set to end begin here i am faking a greeting so i can reuse the se ceremony infos and not let the player interrupt at other times during se ceremony scene if se player se se se se se player se ceremony se gt amp amp se lt message is busy and can t talk to you at the moment gt don t let the player the discussion she has with the gatekeeper in se message can t talk to you at the moment else activate end begin se if for some reason she changes packages before she is done with the crying scene reset the variables associated with that scene could happen if the player kills the gatekeeper while she is talking to him set to set to end begin se end begin se ref can t aim properly at a dead so move one of these invisible objects you can shoot at to the location of the dead its in the x target data of the used by the package as the location end begin se ref can t aim properly at a dead so move one of these invisible objects you can shoot at to the location of the dead its in the x target data of the used by the package as the location end begin se ref can t aim properly at a dead so move one of these invisible objects you can shoot at to the location of the dead its in the x target data of the used by the package as the location end begin if if player lt set to se victims end begin set se ref to se ref se ref resurrect if if player lt set to se victims end begin set se ref to se ref se ref resurrect end begin set prayed to end begin set se ref to se ref se ref resurrect clear out the variable on the victims so she will pick their experiment resurrect packages again set se ref to set se ref to set se ref to set prayed to end begin se end begin se end
se description this script is used to add body parts to the player s inventory we are faking the player picking up and putting down body parts which are actually activators being enabled disabled and adding removing the body part to the players inventory this way we can have a non item seem like its getting added and placed back where it was found if the player picks up the other body part of the same type se se are used in other scripts to know which body part the player picked begin check to see if it s the proper stage if se gt amp amp se lt check to see what activator this script is running on and swap the static world art and misc inventory items if se head activator if player se head lt if the player doesn t already have this item swap the art so it looks like he picked it up se head disable se head enable player se head remove the other item and add this one player se head set se to used in other scripts to determine which item was chosen se head activator if player se head lt se head disable se head enable player se head player se head set se to se heart activator if player se heart lt se heart disable se heart enable player se heart player se heart set se to se heart activator if player se heart lt se heart disable se heart enable player se heart player se heart set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se legs activator if player se legs lt se legs disable se legs enable player se legs player se legs set se to se legs activator if player se legs lt se legs disable se legs enable player se legs player se legs set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se activator if player se lt se disable se enable se enable player se player se player se set se to se torso activator if player se torso lt se torso disable se torso enable player se torso player se torso set se to se torso activator if player se torso lt se torso disable se torso enable player se torso player se torso set se to if se lt if se gt amp amp se gt amp amp se gt amp amp se gt amp amp se gt amp amp se gt se end
se this handles bringing back either syl s heart or s blood and triggering appropriate effects including ambush packages for priests float short short short this states that when the heart is removed to command or to ambush the player it also s the priests so that they will move at the same time begin if player if se a gt amp amp se a lt amp amp se a lt amp amp set to set to player se set se a to se b gt amp amp se b lt amp amp se b lt amp amp set to set to player se set se b to else if don t bless while running se effects if no blessing if you got one today you already received your blessing this day else cast se player cast the blessing spell on the player you receive the blessing of set to record the day so it can be tested the next time the altar is activated end begin if if player se backward set to player se forward set to if amp amp set se a to set to set to amp amp set se b to set to set to end
se this sets journal when syl s heart is taken from her corpse it is a death item begin player se a end
short refuse flag set in dialogue if player refuses to help her in se short speech short short for use with syl s timer for anger talk in se b float float se timer float syl s timer for the delay of lines and events in her anger talk in se b float a float for the delay in syl s appearance before her anger talk in se b float a float for the delay in syl s appearance before her anger talk in se b this is for killing her if se a is running begin if se a gt se a this sets the se variables if she is the traitor if se set se to which pool is still ordered if se means we re at mania side if se gt se se activate se else means we re at dementia side if se gt se se activate se end taunt at the beginning of combat in se begin player if player se set se to end begin player if se set se to end this ensures she goes into combat with player on sight begin if se a gt amp amp se a lt if player lt player set se stage after player has talked to syl at the beginning necessary so that player gets pop up and can select this as active quest instead of se shell if se if se stage update se for use with se b this kicks off the end speech if se b gt amp amp se b enable se ref enable se ref enable set to set se b to if se b if gt set to else se say se set to set se b to if se b if gt set to else set se b to if se b gt amp amp se b if amp amp lt set to say se se set to amp amp lt set to say se se set to amp amp lt set to say se se set to amp amp lt set se b to set to if gt amp amp lt set to if se b gt amp amp se b amp amp se b se set se b to se speech if speech if se if se lt set speech to speech set to se set speech to speech if lt set speech to else set to if if set to set se timer to if se timer lt set to player else set se timer to se timer if se if amp amp if gt set to else taunt player if turn off taunts when he enters combat set se to aggression taunt player set to player se set to end begin se if se b gt disable se ref disable se ref disable se b end
you have just solved a very complex puzzle huzzah