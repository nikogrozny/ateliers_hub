massacre script script for second three marys massacre event disables from first massacre int float int sets packages int sets packages int sets victim package if staying if fleeing int sets victim package if staying if fleeing begin player if m disable disables between massacre events m disable m disable set to starts massacre event by changing package m set to starts massacre event by changing packages m set to return end begin set to a slight delay to one of the two kills then changes package to use weapons package return else set to m set to if set to checks to see if massacre is complete if m player checks to see if either was killed by player during massacre event if player killed makes and player enemies m player set to massacre trigger disable disables trigger m checks to see if was killed before victim set to gives victim a flee package set to ends massacre event return m checks to see if was killed before victim set to gives victim a flee package set to ends massacre event else return end
short sets whether the player has increased the weight limit short set to keep the player from looping with a barter check short jed greets player upon arrival jed walks toward white legs ambush and jed s death short bricky set to when jed mentions ricky skedaddling
script for waking cloud int waiting not waiting waiting int not melee melee int not ranged ranged int not following default is following default range int not following long is following long int passive wait on player aggressive attack when see enemies begin player if waking cloud wasn t a companion when the player killed her start chaos in zion quest end begin waking cloud is dead let the player know and remove her perk from the player if she s been hired if player ms end waking cloud isn t hired and the player has attacked her begin player if end end end jorge waking cloud heals after combat end
this script handles all of the firing logic for the companions in usage to fire a companion simply activate with the companion you wish to fire ex activate ref begin set to clear the soon to be former follower s behaviors assistance stop banter quest do character specific stuff if set waiting to set to set to fade out follows chalk and teleport him home follows chalk left the party remove his perk and show a message about it player added perk added this entry follows chalk returns your stuff player set waiting to set to set to fade out waking cloud and teleport her home waking cloud left the party remove her perk and show a message about it player added perk added this entry waking cloud returns your stuff player set waiting to set to set to fade out joshua graham and teleport him home if ref set to disable disable joshua graham left the party remove his perk and show a message about it player added perk added this entry waking cloud returns your stuff player clear var tracking whether the player has a companion set followers to clear the follower reference var so checks will show there s no one with the player set followers to end
this script handles all of the hiring logic for the companions in removed all of joshua s money on hire so the player doesn t get all his store purchases back short added for achievement scripting only fires once per companion short used to display a more descriptive perk message the first time then not again usage to hire a companion just activate with that companion ex activate ref begin set to set the new follower s reference behaviors start banter quest set to do character specific stuff if set follows chalk s follower quest variables set to set to set follows chalk s default behavior prefers ranged weapons set to set to set to set to add follows chalk perk player added perk added entry for it if added to show more descriptive perk message the first time added set to else set waking cloud s follower quest variables set to set to set waking s default behavior prefers melee weapons set to set to set to set to add waking cloud s perk and show a message about it player added perk added entry for it if added to show more descriptive perk message the first time added set to else set joshua graham s follower quest variables set to set to set joshua graham s default behavior prefers ranged weapons set to set to set to set to add joshua graham s perk and show a message about it player added perk added entry for it remove all of joshua s money so the player doesn t get the caps he s spent back caps set flag to show the player has a companion set followers to set the ref var in the follower s quest to the new follower set followers to end
script for follows chalk int waiting not waiting waiting int not melee melee int not ranged ranged int not following default is following default range int not following long is following long int passive wait on player aggressive attack when see enemies begin player if follows chalk wasn t a companion when the player killed him start chaos in zion quest end begin remove follows chalk perk from the player and let player know he s dead if he s been hired if player ms end follows chalk isn t hired and the player has attacked him begin player if end end end jorge follows chalk heals after combat end
script for jed added script to block begin player is attempting to pickpocket jed if player player if jed isn t in combat he talks to you if player return else return else activate end begin ref kill end begin kill end begin kill end begin kill end begin kill end begin end set to if player set to if end player end
massacre script enables for three marys massacre event pushes victim off cliff and gives a package int float int int begin player if m disable disables from first massacre event m disable m disable disable disable disable marker disable disables just outside of cave m enable enables for second massacre event besides the cliff pushing one enable m enable enable marker enable enables last group of to fight before reaching salt upon wounds set to return end pushing off of cliff if m checks to see if was killed before victim set to gives victim a flee package set to ends massacre event return else return if set to timer slightly delays push return else victim pushed off cliff set to kills victim m adds faction m adds patrol package set to if m player checks to make sure was not killed by player during massacre event sets player and as enemies if was killed by player during massacre event massacre trigger disable disables trigger set to end
case begin player player case auto end
quest script to handle followers variables follows chalk variables waking cloud variables joshua graham variables 
jorge this script lists the possible encounters found in a event runs the association of selected spawns with declared ref variables begin player if enc if enc set enc to enc enc set enc to enc set enc to enc set enc to enc set enc to enc if enc set to ref set to ref set to ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to ref set to ref set to ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to ref set to ref set to ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return enc set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref set to enc ref resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect resurrect set enc to set enc to return end
this script handles variables and some operations in the encounter system devised for honest hearts due to the size of zion and to the significantly smaller amount of time that players will spend here compared to the encounters in honest hearts are not meant to simulate a living ecosystem here we will treat them as encounters that are already pre arranged triggered and then presented to players unlike in nv where populations persisted trough game time and game space creating a complex web of interactions jorge encounter origin and marker variables ref encounter stage frequency type origin and control variables float range to player ref at which start to run checks to see if they must spawn encounters short to control the disabling of encounter references actors upon an activate trigger call int int int int int int int to know which box is making the call to start culling creatures from other boxes if the encounter limit has been reached ref operational variables short int int begin if set to ref set to ref set to ref set to ref set to ref set to ref set to ref set to ref set to ref set to ref set to set to set to else if set to set to player set to set to player player set to if if if set to else set to set to return player set to return else if player set to else if player if player if if enc set enc to enc return end
script attached to actor zones code boxes from where to call variables and events in the encounter master script quest according to player position distance to code box story stage etc jorge encounter positional variables encounter actors variables ref int operational variables to control the teleportation and enabling resurrection of encounter references actors short to control the event of cancelling removing encounter s references actors int defines the states of the code box that is it governs what to run according to player position encounter chosen order of operations etc int to assist in segmenting tasks within the particular logic float retrieves distance from player actor to code box float retrieves time when encounter spawns float to space operations in time to prevent excessive toll on a given frame begin set to if set to if set to if set to if set to if set to if set to if set to if set to if set to end begin player if enc if enc no encounters here this can be used as a chance none for randomizing encounters enc set to if enc set to if enc set to if enc set to if enc set to if enc set to if enc set to if enc set to if enc set to set to actors moved enc return enc disable disable disable disable disable disable disable disable disable enc set enc to set enc to set enc to set enc to if enc set enc to enc set to end set to if set to if set to if set to if set to if set to if set to if set to if set to if set to set to else if enc if set to player if enc if enc if player if enc if enc enc set enc to else if enc if enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to enc set enc to set enc to set enc to enc set to if yep set to if enable set to return enable set to return enable set to return enable set to return enable set to return enable set to return enable set to return enable set to return enable set enc to set enc to set enc to set enc to set to set to set to set to return end
massacre script script for three marys massacre event disables followers script works with on hit scripts on victims int float int use to set packages int sets victim package if staying if fleeing int sets victim package if staying if fleeing begin player if enable enables victim m enable enable set to sets victim behavior m resets ai enable enables first victim of massacre m enable marker enable enables s ahead of massacre disable disables earlier trigger set to return end begin set to sets a slight delay to massacre event return else m plays animation as victim is pushed m pushes victim off cliff set to if kills pushed victim m faction to pusher set to checks to see if player killed on of the massacring if the did turns against player if m player m player m player massacre trigger disable disables triggers when massacre is done massacre disable set to m if was killed before victim ends that s massacre event and sets the victim to flee package set to set to return m if was killed before victim ends that s massacre event and sets the victim to flee package set to if set to return else return end
kills white legs massacre victims in three marys when hit by appropriate dead horse scripts work with scripts on massacre triggers int int float int begin m if set to set to delays package change so that the continues to hit victim after dead set to changes package from use weapon to patrol m m adds faction set to end begin m if set massacre trigger to switches from use weapon to a travel package m m adds faction set to m when reaches travel marker package switches to use weapon package to shoot victim again this blows up victim s head set massacre trigger to switches to second travel package to a lookout point m set to end begin m if set to set massacre trigger to changes to a patrol package m m adds faction set to end begin m if set massacre trigger to changes to a patrol package m m adds faction set to end begin m if victim pushed off cliff set massacre trigger to set to end
float ref myself begin set myself to if myself player if added check to only apply if it s not active jorge float set to set to end begin set myself to if myself player if if added checks to only apply if they are not active jorge if set to else set to end begin added block to force removal of jorge end
begin player ms dismember left arm end
script quest script for added the variable to keep track of how many optional quests are done gussied up the script a bit short used to keep track of how many optional quests are completed flag used to disable fast travel during quest float used to disable all the white legs if the player rests since the trigger s function is intermittent return disable disable disable enable set to set to player made peace with the white legs but then attacked anyway if set to end set to end
stub for actual pine creek tunnel object begin player if disable end
three marys rockslide enables s for massacre event int int float begin player if set to set to end begin rockslide if forward set to return if set to return enable set to set to return if set to return else set to player else activate return else ref set to disable disable set to end