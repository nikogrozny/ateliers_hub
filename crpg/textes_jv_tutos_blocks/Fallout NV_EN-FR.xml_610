script control panel script dm dm updated to use a cascading menu system instead of a double check int tracks the button presses for the current menu int tracks the current menu screen player else end begin set to if set to set to set to if set to set to set to if set to set to set to if set to set to if set to set to end
ed e s special access panel to allow him to unlock doors to use set the terminal s linked ref to the door container or terminal you want it to unlock added timer to synch ed e s attack effect added message box scripting to allow the player to force ed e to unlock the terminal added j s added state var to control activation after has already unlocked access to it added removed message and variable erence linked to terminal ref self reference for ed e to target short is the message box displayed short button player chose player set to end set to if set to return set to set to end begin say left set to unlock end
this script resides on a trigger volume it s used to one of the scenes handled in j s short the scene s been short the block will do its thing this is set on the event float timer float begin player players cross the trigger for the first time we play a creepy sound set to and trigger the with to run its third scene which depends on being set to set to return end begin the trigger is not disabled the volume has been entered by player if we run a small timer secs after which barks one of his scared lines s not in combat say we make bark a scared line disable we disable this trigger and it will be marked for deletion below else set to else whenever the volume is disabled here or elsewhere this part of the code will mark it for deletion end
this script resides on a trigger volume it s used to one of the scenes handled in j s short the scene s been short the block will do its thing this is set on the event float timer float begin player players cross the trigger for the first time we play a creepy sound set to and trigger the with to run its last two scenes and which depend on being set to set to return end begin the trigger is not disabled the volume has been entered by player if we run a small timer secs after which barks one of his scared lines s not in combat say we make bark a scared line disable we disable this trigger and it will be marked for deletion below else set to else whenever the volume is disabled here or elsewhere this part of the code will mark it for deletion end
this script resides on a trigger volume it s used to play creepy sounds somewhat randomly and create a chance for to bark scared lines j s short the scene s been short the block will do its thing this is set on the event float timer float begin player the volume is entered by player we ll run a random percent to choose different creepy sounds to play once set to set to if return return return return return end begin the trigger is not disabled the volume has been entered by player if we run a small timer secs after which barks one of his scared lines only if he s not in combat and a check passes true chance that will bark a line say disable we disable this trigger and it will be marked for deletion below else set to else whenever the volume is disabled here or elsewhere this part of the code will mark it for deletion end
this script resides on a trigger volume it s used to one of the scenes handled in j s short the scene s been short the block will do its thing this is set on the event float timer float begin player players cross the trigger for the first time we play a creepy sound set to and trigger the with to run the first tunneler scene scene where tunneler burrows and depends on being set to set to return end begin the trigger is not disabled the volume has been entered by player if we run a small timer secs after which barks one of his scared lines s not in combat say we make bark a scared line disable we disable this trigger and it will be marked for deletion below else set to else whenever the volume is disabled here or elsewhere this part of the code will mark it for deletion end
this script runs on the used in collapsed overpass tunnel s intro scene it gets killed by a tunneler but we want to check player actions against the to see if we consider the scene interfered with j s short players interfered with the normal or expected behavior of this short used a safety call once to prevent continuous changes in the area s scene scripting begin players hit the we consider the scene interfered with if only if the s still alive though aggression player if set to set to set to set to set to end here we re merely forcing a call on the player if they get too close to the and the scene s scripting has not yet handled its interference situation aggression if player aggression player if set to set to set to set to set to else set to set to set to set to if set to set to end begin if set to end
silo this script disables a spark object when the robot actor against which it s placed changes position or players retrieve the bowie knife weapon that causes the short circuit in the robot s systems j s short has been turned off short binit initial operations are finished float value corresponds to initial x axis position of robot float value corresponds to initial y axis position of robot float value corresponds to initial z axis position of robot begin is disabled skip code are off skip checks if binit run initial operations set to x set to y set to z set binit to return else run checks against values retrieved in the initial operations if x x if values vary game units above or below the initial value disable silo disable silo disable silo silo set to return y y silo disable silo disable silo silo set to return z z silo disable silo disable silo silo set to return player player if players have a bowie knife in inventory and the distance is near the robot assume they just picked the knife silo disable from the robot s frame and disable silo disable silo silo set to return else disable when are off we disable and mark for deletion this end
opens the iris for the missile launch locks the door to the temple dm dm added flag for the launch control dm added iris dm light beam and added it to the ulysses battle dm moved the disabling of the controls to the entry door instead of this trigger removed the addition of the new variables begin player forward disable enable set to disable end
to contain the scripting for the battle with ulysses dm dm added marked men variables and scripts dm moving ulysses death stuff here from dm added initial combat stuff for ulysses dm updated spawning script to allow for new pods added more marked men scripting dm added temple iris open close sequences dm added post temple completion stuff rumbling dust falling camera shaking etc dm added ulysses combat barks dm added explosions to post temple rumbling and shaking dm added setting of variables for ulysses barks dm added starting stopping of quest containing ulysses bark variables dm added a variable to toggle ulysses follow package on and off dm added the blinking red light dm added a delay to the spawning of the now spawn when ulysses is fighting with the player dm added a check to make sure all the marked men were dead for the fighting against ulysses win condition dm stop spawning when ulysses dies dm ulysses stays in the player faction stays essential until the player leaves the temple variables int spawns next in succession int spawns next in succession int sets spawn variable once int sets spawn variable once int tells each to only spawn once stops spawns int tells each to only spawn once stops spawns int allows effect to be enabled disabled int allows effect to be enabled disabled float timer for spawn effects float timer for spawn effects float timer to delay the spawning float timer to delay the spawning short have been disabled short have been disabled short for disabling short for disabling short have been turned against ulysses short have been turned against ulysses short for turning against ulysses short for turning against ulysses short act normal heal ulysses short for healing short stops the from spawning short activates the terminals marked men variables int spawns next marked man in succession int spawns next marked man in succession int for marked men spawning when fighting against ulysses int for marked men spawning when fighting with ulysses int tells each marked man to only spawn once the last one has spawned int tells each marked man to only spawn once the last one has spawned int indicates which of positions the marked men are throwing charges from int spawns secondary wave of marked men only spawn if player is friends with ulysses int spawns secondary wave of marked men only spawn if player is friends with ulysses int tells each secondary wave marked man to only spawn once the last one has spawned int tells each secondary wave marked man to only spawn once the last one has spawned int counts how many of the marked men have died float timer for how long the marked men have to throw charges float timer for marked men position changes short for charge timer short indicates if the marked men are in a charge throwing trigger ulysses variables short ulysses is fighting the player ulysses is fighting with the player short toggles ulysses package that causes him to follow the player short for ulysses starting combat short for ulysses death script short ulysses fell down a hole where the player can t reach him misc variables int stages of the iris opening int stages of the iris closing int indicates which of the dust effects are going off int indicates which explosion effects are going off float timer for the iris float timer to space out the temple collapse rumbling float timer for the dust effects post battle float timer for the temple explosions float timer for the red light blinking float timer for the red light blinking float timer for the red light blinking short indicates that the temple iris is opening short indicates that the temple iris is closing short after the final battle rocket has gone off temple is collapsing short for the rumbling sound that starts with the temple collapse shaking short for end game script short sets the stage for the red light to turn on and off short sets the stage for the red light to turn on and off short sets the stage for the red light to turn on and off short player has low scores in all combat skills begin final battle ulysses is enemy win condition ulysses death all marked men dead if if a set to set to set to set to set to set to set to set to set to final battle ulysses is friend win condition all marked men must die if if a set to set to set to set to set to set to set to set to set to set to ulysses is in combat against the player if set to set to set to set to set to disable enable enable enable set state to set state to set state to set state to set to ulysses should be healed heals ulysses when he drops below health if set to set to set to set to ulysses is fighting with the player if set to set to set to ulysses disable enable enable enable set state to set state to set state to set state to set to stop spawning if set to set to set to set to set to spawning if indicates when the next can spawn set to set to set to set to if set to set to set to set to if set to set to set to set to if set to set to set to set to if set to set to set to set to if set to set to set to set to if spawns ulysses right hand robot enable set to enable disable forward disable set to set to set to set to set to return if ulysses right hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return if ulysses right hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return if ulysses right hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return if spawns ulysses left hand robot enable enable set to enable disable forward disable set to set to set to set to set to return if ulysses left hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return if ulysses left hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return if ulysses left hand robot enable backward enable set to enable disable forward disable set to set to set to set to set to return combat if sets the appropriate faction for the set to set to if sets the appropriate faction for the set to set to if renders neutral in the battle set to set to if set to set to temple iris opening and closing sequences if open the iris enable set to forward forward forward set to set to set to set to return if close the iris backward backward backward set to disable set to set to set to set to return launch terminal red blinking light timer for the red light that blinks if enable enable disable set to disable disable enable set to set to set to set to right terminal red blinking light timer for the red light that blinks if enable enable disable set to disable disable enable set to set to set to set to left terminal red blinking light timer for the red light that blinks if enable enable disable set to disable disable enable set to set to set to set to post final battle temple is collapsing around the player if camera shake rumble effect player set to set to if rumble sound set to set to set to if dust effects forward set to forward set to forward set to forward set to forward set to forward set to set to set to if explosion effects set to set to set to set to set to set to set to set to set to if turn off the red lights set to disable disable enable set to disable disable enable set to disable disable enable end
silo this script enables one of the maintenance bots at the silo s missile upon opening the door that leads into its shaft j s short enable call has been made player if the player activates the door check the if we disable the maintenance bots and turn the variable to silo ref disable silo ref disable activate set to return else if the var is activate door normally activate return else if someone other than player activates the door activate normally only the player will open this door the first time as is on follow mode and no enemies are enabled yet activate return end
silo script to handle repair options on the turret security terminal on top level of silo level j s short the turret s been repaired short repair msg is displayed int var to track buttons pressed by player defined in the security turret msg player if player activates the turret we ll next check to see if it has been repaired not repaired we ll display a message and tell the block to run events silo msg displays set to code var to check return else if repaired we activate normally activate return else if something other than player activates run normal activation activate return end begin the turret s not repaired yet we run checks but only if the message s been displayed then the message has just been displayed upon activation set to we get the button pressed by default we return and reset var set to return if that means players have the necessary conditions for this option to appear in message conditioned in the message entity itself silo disable we disable the sparks around the turret set to set the repaired var to set silo box to return end
ending slide dialogue script added code to delay firing off the wild wasteland sound and message moved endgame loot chest enable here moved endgame loot population here added in call to disable the trigger to add as a companion at the end of the short make sure the script runs once only short used to start the timer to delay the wild wasteland sound and message from appearing float used to delay the wild wasteland sound and message from appearing set to enable disable companion trigger disable turn off disguise notifications player removes all chem effects player restore the player s dehydration sleep deprivation and starvation turn off radio player heal the player prevent level up screen from firing player prevent player from saving the game prevent player from doing anything player send the player to the theatre to start the slide show code related to delaying the wild wasteland sound and message from appearing if set to if set to end
handles ending added the new topics moved the projector sound and quick fade out in from the info scripts the order of the slides to not display slides that don t have lines to display added code to set the sunset slide to the gender appropriate pic changed the teleport destination after the ending slide sequence finished to the s wrecked canyon start of end slides b player player else if player player else player end begin player end player else if player player else player end begin player end player player else player end begin player end player else player end player else player end begin player end player else player end begin player end begin player end begin player end begin player end begin player end player male interface endgame else interface endgame player end begin player end begin player end begin transition the player to the s wrecked canyon player end
fires off ending slide sequence for moved the projector sound and quick fade out in out of the topic script added scripting to delay displaying the wild wasteland sound and message added the condition to check the value of for the wild wasteland slide begin player player prevent player from saving the game prevent player from doing anything if ending has the ending started if player set ending to enable the delay to display the wild wasteland sound and message set ending to set the delay time player disable end
sets the snipers to start combat with the player dm ref begin player set to player disable end
road scout calls the road middle area to start the spawning of marked men in j s begin player if road found if the middle area of road shows that hasn t been found yet we update it to found in the same box this will trigger the spawning of s enemies handled in that box s script set road found to disable we disable and mark for deletion this trigger else since the may have been found by approaching first or by destroying s warhead barricade we disable and mark for deletion this trigger if the s var is already disable end
script causes the warhead to change destruction stages the more times it s hit by the sonic detonator dm modified script to add disabling of nearby marked man sniper dm updated from new warhead script incrementing warhead hunter challenge short how many times the warhead s been hit by the sonic detonator short which stage of destruction the warhead is in begin set to if set to right if set to state if set to left if set to state ref player ref disable disable end player end
script causes the warhead to change destruction stages the more times it s hit by the sonic detonator dm modified script to add disabling of nearby marked man sniper dm updated from new warhead script incrementing warhead hunter challenge short how many times the warhead s been hit by the sonic detonator short which stage of destruction the warhead is in begin set to if set to right if set to state if set to left if set to state ref player ref disable disable end player end
script causes the warhead to change destruction stages the more times it s hit by the sonic detonator dm modified script to add disabling of nearby marked man sniper dm updated from new warhead script incrementing warhead hunter challenge short how many times the warhead s been hit by the sonic detonator short which stage of destruction the warhead is in begin set to if set to right if set to state if set to left if set to state ref player ref disable disable end player end