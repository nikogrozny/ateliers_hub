se short this is used as conditions on se topic and as a means of keeping track of the fight scene float used to control scripted say timing short short short holds the value of the gatekeeper s aggression so we can mod it back short normal player got involved so wrap things up now short keep alive have the gatekeeper kill short keep alive have the gatekeeper kill short keep alive have the gatekeeper kill short keep alive have the gatekeeper kill ref same as se begin if if se lt if gt if se ref kill se ref kill se ref kill se ref kill set to end begin if set to se make the gatekeeper essential until the end of the battle if lt if because runs on base objects and not on references i m simply setting all the base ids to essential se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper else if because runs on base objects and not on references i m simply setting all the base ids to essential se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper se gatekeeper if if set to set to set to set to set to set to set to if lt keep combatants alive until they are supposed to die if question to self these execute even after the actor is already dead is that overly inefficient se ref se se ref if se ref se se ref if se ref se se ref if se ref se se ref wait until the player is close enough then begin the fight if if player lt set to aggression se a pt restore health because calls which adds an invisible script modifier which boosts the maximum health and since he has a restore health using health caused him restore up past his base to have tons of hit points aggression se aggression se ref se se ref se se ref se se ref se se ref aggression se ref aggression se ref aggression se ref aggression se se ref se se ref se se ref se se ref se se se se ref se ref se ref se ref se ref set to if player lt if if lt set to player se bring up the spectators if they aren t there already set to set se to set to if lt amp amp if set to se ref se set to to pad the dialog and give the scene time to develop set to set to se ref se set to to pad the dialog and give the scene time to develop set to set to se ref se set to to pad the dialog and give the scene time to develop set to set to if se ref set to se ref se set to to pad the dialog and give the scene time to develop set to set to if se ref set to se ref se set to to pad the dialog and give the scene time to develop set to set to if se ref set to se ref se set to set to set to se se set to so he picks his run away to the waiting room package else gt set to if aggression se se se ref se se ref se se ref se se ref se se se just incase set to set to set to set to set to end begin player if se lt if se set to end begin just incase he dies before the scene completes se set to end begin se disable end
short se conv incremented during conversation with in se begin if if player return else activate end begin start conversation with during se if se conv if set se conv to end
short flag set when is in the prison cell for se short short float timer short se begin enable end begin if if player return else activate end begin kill her when she s hit by the spell at the end of se if se if kill set to move her into the cage when she s moved to torture chamber if se if if se se se lock set to if x if timer lt say set timer to if lt if x x x if timer lt say hit set timer to if timer gt set timer to timer end begin x set to if x x make sure partner gets up at same time end begin x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end
short short flag set when is in the prison cell for se begin if if se a set to end begin if if player return else activate end
se this is used in with se to handle the scripted fight scene at the gatekeeper in se this script checks for se variables checks to see what it is running on and if there is a match kills the actor this same script is applied to all the adventurer actors in that scene short unset the next time the gatekeeper hits me kill me ref self holds reference to the actor this script is running on begin if self set self to if if se if se set to if se if se set to if se if se set to if se if se set to end there are leveled versions of the gatekeeper so i need to process hits from all of them begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end begin se gatekeeper ref if kill end if the player gets involved set a variable in the se running on the se to end the scene making all the orcs ready to die in one hit from gatekeeper begin player if se lt if se set se to end begin this handles making the spectators say something when each orc dies the conditions are set up in the conversation topic se if spectator lt se ref se if spectator lt se ref se end just in case they manage to get away without being killed the gatekeeper they run this package and then look like they are going through the waiting room door begin se disable end
se when priest dies parent pool becomes unordered ref ref myself begin notify parent pool that i died if se lt set to set myself to activate myself end
se short ordered player can t open ref ref linked animating crystals short button for message box begin set to after quest is done all containers become unordered if ordered amp amp se lt if activate else set ordered to if activate end begin if player player is activating if ordered if player se message the crystals prevent you from opening this container else do you want to use a shard of order to open the container yes no else activate else anything else is activating set to if se gnarl is activating me if se ordered gnarl makes the pod ordered if ordered if se debug message debug container ordered set ordered to set se to se open if activate else unordered gnarl if ordered if se debug message debug container unordered set ordered to set se to se open if activate gnarls may head back to pool after opening door if lt se activate end begin set button to if button gt if button player se set ordered to set se to se open if activate activate end
se ref ref short ordered set to to order this pool meaning it orders all gnarls who activate it begin if ordered amp amp se lt trigger animating crystals else unorder pools post quest set ordered to trigger animating crystals but maybe they handle this on their own i e ordered by default end begin set to if se if ordered if se debug message temp gnarl ordered order the gnarl se aggression else unorder the gnarl if se debug message temp gnarl unordered clear ownership aggression remove back to pool widget from gnarls se se priest is notifying me that he s dead set ordered to if a minor pool set quest stage if se se notify healing pool my parent that i m unordered set to activate end
you use a shard of order to open the door
temp door activate called
se short ordered player can t open ref float timer used to time door closing again ref used for calling gnarls to open ordered doors ref linked animating crystals begin set to if ordered amp amp se lt animate linked crystals if activate else set ordered to animate linked crystals if activate end begin if player player is activating if ordered amp amp gt amp amp player se message the crystals prevent you from opening this door call followers to open door if any alive clear we ll use this to find a nearby gnarl cultivator set to look at spawners in my cell they hold onto a reference to their current spawned gnarl if if se a set to se a if he s dead don t use him if set to if amp amp se b set to se b if he s dead don t use him if set to if amp amp se c set to se c if he s dead don t use him if set to if amp amp if se a set to se a if he s dead don t use him if set to if amp amp se b set to se b if he s dead don t use him if set to if amp amp if se a set to se a if he s dead don t use him if set to if amp amp se b set to se b if he s dead don t use him if set to if amp amp else if ordered amp amp player se gt message you use a shard of order to open the door player se unorder door set ordered to animate linked crystals if activate set se to se set timer to activate else if se debug message debug door being activated anything else is activating set to if se gnarl is activating me if se ordered gnarl makes the door ordered if ordered if se debug message temp door ordered set se to se close this door open first time it happens set stage if se gt se failsafe always set ordered to and add shader set ordered to if activate else unordered gnarl makes the door unordered if ordered set se to se open if se debug message temp door unordered failsafe always set ordered to and remove shader set ordered to if activate gnarls may head back to pool after opening door if lt se if ordered set timer to if se debug message temp door activate called activate end begin if timer gt set timer to timer first door set stage if se if timer lt amp amp se door is open so close it end
se begin if player se disable end
se begin player se end player
se short begin fatigue start with negative fatigue fatigue end begin if trigger will make this statement pass and break drain loop if fatigue gt set to if don t let fatigue reach positive status if fatigue gt fatigue end
se ref parent object of the trigger is corpse short we ll store our parent fatigue max short offset use this variable to tweak leveling begin player set to set to fatigue fatigue restore full fatigue disable disable this trigger end
se short set to after player hits them during battle when allied with other side ref begin player when the player hits me all golden saints hate the player if allied to other side if se gt amp amp se player se set to end begin count saints killed set se to se all dead if se gt se amp amp se lt se end begin scripted start combat voice when fighting seducers set to if se if lt se end
se short set to after player hits them during battle when allied with other side ref begin player when the player hits me all dark seducers hate the player if allied to other side if se gt amp amp se player se set to end begin count seducers killed set se to se all dead if se gt se amp amp se lt se end begin scripted start combat voice if fighting golden saints set to if se if lt se end
this spell may only be used in the shivering isles
float timer short set to when played float x float y float angle begin if summoned amp amp set summoned to move marker to s current spot move to player player get orientation of player when we have math functions we can do this set angle to player z set x to cos angle set y to sin angle x y temp for now just move on axis based on angle if angle lt amp amp angle gt set y to angle gt amp amp angle lt set x to angle gt amp amp angle lt set y to else set x to temp angle f x f y f angle x y player x y look player force greet player set variable on to prevent player from talking to him before he set to set to message has been summoned too recently message this spell may only be used in the shivering isles dispel end begin set timer to timer if amp amp timer gt set to end begin if player amp amp summoned set to send back where he came from set to set to end
se this is used to count the number of knights that die begin if se a gt set se a to se a end