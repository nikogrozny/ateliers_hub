begin enable end
short flag set when ma arrives at conversation location short detected flag set when ma can detect player while at conversation used to alter dialogue short flag set when ma starts conversation used to make sure conversation only happens once per day short short float timer float begin enable end begin x set to if x x make sure partner gets up at same time end begin x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end begin check whether can detect the player used for dialogue to abort conversation if if player gt if detected set detected to player gt if detected set detected to update quest stage when player has overheard the conversation if if se conv if player lt se else set se conv to if player lt if se gt amp amp se lt if if se lt set to if gt set to if se conv se eavesdrop se conv se eavesdrop se conv if se eavesdrop set to after agreeing to help disable as soon as the player s out of range if se if if player set se to set se to disable if x if timer lt say set timer to if lt if x x x if timer lt say hit set timer to if timer gt set timer to timer end begin if if player return else activate end
float used to control timing short pushed used to push of the ledge float used to make sure he falls all the way down after pushing him off the ledge before the quest updates short used as a condition on his combat dialog so he doesn t say things like no not like this when he dies from falling set in this script or in se the variables below are used to track if the player has been detected the main reason i have to do this is because block actually processes after the hit after which there is a spike in detection which almost guarantees the player being spotted float short short short short short how close the player needs to be before will play his cowering animation short cower flag on package set in block short this is set when he starts his cower package it is used to condition his assault dialog so he says no not like this but not anything about the pain since they player isn t hurting him begin init variable if set to if pushed player set to set pushed to set to if if lt if se se if lt se lt he was killed before the player got the quest se have the guard stationed nearby the ledge comment on the scene if pushed player se set pushed to else set to if se lt amp amp if player lt amp amp if se so he picks his get the players attention package if lt set to player se else set to se amp amp se gt if lt reset timer set to store recent values set to set to set if player gt set to else player lt set to set if player set to else player set to make pick his cower package if he is or has recently detected the player if amp amp player lt if se cower if cower set cower to used as condition on se if so he picks se else amp amp player gt if se cower if cower set cower to used as condition on se if so he unpicks se else gt set to se end obsolete begin player ok now that i m implementing the push him off the ledge stage i m not letting you kill him this way anymore i m just commenting it out though in case i want to restore this functionality later if se if he hasn t detected the player then kill him but if someone else detected him recently pretend they sent out a murder alarm yes i know this doesn t take faction into consideration but lets just assume that everyone loved this pitiful soul and likes him enough to report the crime if amp amp doesn t know what s coming so just kill him outright kill check to see if anyone sees the player do it if player player else make him cower for longer than normal because he is being attacked set to end begin se cower set to player assault set to end begin say se enable end begin if if player return else activate end
begin enable if se gt se end begin if if player return else activate end
this character was female and now is male so the and ref name are but name is gro bonk gra gro note any changes to the smith hammer idle animation scripting probably should be made for as well this script handles giving her a non offers services pick idle package so that she is hammering when the player enters the cell if the player approaches her or after a timer runs out she to an offer services package so she can conduct business as normal float used to make sure that after a little while she stops hammering and follows the player around per normal switch to a flagged package short a flag used for the same purpose begin if if player if player lt if gt set to if gt set to else if if se x set to end begin se x set to set to end begin se x set to set to end begin se x set to set to end begin enable end
note any changes to the smith hammer idle animation scripting probably should be made for as well this script handles giving her a non offers services pick idle package so that she is hammering when the player enters the cell if the player approaches her or after a timer runs out she to an offer services package so she can conduct business as normal float used to make sure that after a little while she stops hammering and follows the player around per normal switch to a flagged package short a flag used for the same purpose float timer when to say a rooftop cheer begin if if player if player lt if gt set to if gt set to else if if se x set to end begin if if player return else activate end begin se x set to set to end begin se x set to set to end begin se x set to set to end begin enable end cutter is a member of the duelists society which stages mock fights on the rooftop when her fight starts add a weapon to make sure she has one remove it when she it done set the variable which is used for packages and idles begin x set to if x x make sure partner gets up at same time end begin x set to end begin mon x set to if mon x mon x make sure partner gets up at same time end begin mon x set to end begin wed x set to if wed x wed x make sure partner gets up at same time end begin wed x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end begin x set to if x x make sure partner gets up at same time end begin x set to end begin if x if timer lt say if she is cheering have her say every now and then set timer to if lt run and idle if she is close enough if x x x if timer lt say hit when she is fighting have her grunt every now and then set timer to if timer gt set timer to timer end
begin enable end
begin enable se end
float used to make him pick his cower package or change out of it short cower used to make him pick his cower package or change out of it begin init cower to if cower set cower to if lt set to set cower to cower flip between and used as a condition on package else set to end begin enable end
begin enable if se gt amp amp se lt se end begin if if player return else activate end
begin in memory of wide eye may all her children prosper end
begin in memory of una a true oddity end
begin she couldn t take it with her end
begin beloved wife and loyal drinking companion end
begin in memory of a juggler beyond compare at least in her own mind end
short short short short bighead short short cutter short short short short short short short short short short short short short short short short short ref begin if player move bodies in here if amp amp set to if amp amp set to if amp amp set to if bighead amp amp set bighead to if amp amp set to if cutter amp amp set cutter to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp disable enable set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to if amp amp set to activate end
begin enable end
se fires the two facing statues in once triggered statues will continue to fire until turned off can be turned off by linked switch in next room amp is on by default short triggered set to when triggered by someone entering trigger zone short active set to when trap is active ref myself ref float timer begin when activated by button toggle state turn on or off if active set active to turn off automated firing traps set se ref automate to set se ref automate to else set active to turn on automated firing traps set se ref automate to shots in initial volley set se ref to every seconds set se ref automate to ditto set se ref to end begin if triggered amp amp active set myself to set to don t fire spells at dark seducers if se if se ref automate set active to set se ref automate to shots set se ref to shoot every seconds set se ref timer to start timer se ref activate myself tell it to go set se ref automate to shots set se ref to shoot every seconds set se ref timer to start timer se ref activate myself tell it to go set triggered to i been triggered set timer to don t check again for a few seconds end begin reset triggered state after timer expires if triggered amp amp timer lt set triggered to if timer gt set timer to timer end
se disables enables the target boxes controlling the machine gun trap in short busy short stage float timer ref myself begin animate the switch trigger the trap if busy amp amp stage set stage to set busy to forward set timer to end begin trigger the trap if stage amp amp timer lt set myself to se activate myself set stage to animate button if amp amp stage amp amp timer lt backward set stage to reset button can now be pressed again if amp amp stage amp amp timer lt set busy to set stage to if timer gt set timer to timer end begin reset set stage to set busy to end
activates linked parent object resets after second and can be triggered by anything originally scripted for machine gun statues in can be turned off by linked switch amp is on by default short triggered short ref target ref myself float timer begin if set to else set to end begin if triggered amp amp set target to set myself to target activate myself set triggered to set timer to end begin if triggered amp amp timer lt set triggered to if timer gt set timer to timer end