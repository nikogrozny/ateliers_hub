short second floor default first floor
west town greeter ghost death in gas volume short calls buddy to patrol point short has reached patrol point short patrol point wait timer gala short speaker short used short used short used elijah bark short
float float float float float begin kills blue evil guy north kill kill if disable deleted disable disable if christine is at the switching station disable disable ref unlock ref unlock end begin north if set to leader waits follower goto leader leader follower deleted if set to if set to south if set to end begin north if set to if set to set to leader resume patrol follower resume patrol leader follower deleted if set to if set to set to if set to if set to set to south if set to if set to set to end
short on default off
begin end
script to handle hologram emitter features across all holograms jorge updating to work with leveling removed strenh check and button button is now button updating emitters to not disable they ll turn off now set emitters to be non interactive after you disable jam them added additional descriptive after disabling removed ability to jam it s repair only fixed up script errors from transition from random settings to static difficulty hologram code box variables ref emitter variables default easy average hard very hard message variables begin set to set to set to set to set to if set to if set to set to set to else set to end begin give a lesser amount of if you just shoot them set to set the quest variable that tracks disabling hologram emitters to if disable set to player disable set to player disable set to player end player if set to if else end set to if set to this is the repair check if player repair player repair player repair player repair if forward disable set to set to reward according to difficulty check if else forward disable set to set to reward according to difficulty check if else forward disable set to set to reward according to difficulty check if else else set to end
jorge short begin player if set to set to end
begin end
this script handles the bomb collar countdown explosion and reset int tracks how many emitter radii the player is currently in float timer that counts down from seconds any time the player is near a radio or speaker the timer resets whenever the player is no longer near an emitter when it reaches zero the player s collar explodes killing him her float new timer for christine s perk short variable to do things only once for christine s perk short variable to display message and audio once for the collar float tracks when the next beep vibration should be float tracks how long the current duration between beeps and vibrations is this number gets reduced each time int tracks whether the collar has exploded already used to prevent it from repeatedly exploding int tracks whether the message that tells the player the collar is halfway to exploding has shown yet ref var for holding your follower for tracking collar detonation due to companion death ref stores a reference to a companion that just died float similar to the timer above this is used to countdown the time from when a companion dies to when the player s collar explodes int tracks whether the follower died in their special area of the casino if the follower dies elsewhere then the player and the other followers are guaranteed to die otherwise the player can survive if he she makes it to another part of the casino loads into another area before the timer runs out int these are used to track whether we gotten the ball int rolling after a companion dies in non hardcore mode int float float begin script to handle when the player enters a radio speaker radius if collars added global check to turn off on collars jorge return else only count down if the player is in a radius and none of the followers have died if if followers if set to set to if set to make the collar start beeping timer counts down set to handle ever increasing rumble and beeping if calculate how long until next beep set to set to show a message halfway through the countdown saying it s getting faster followers set to followers set to once time runs out the collar explodes killing the player if player player kill player set to oh and your companion dies too if followers set to followers need to remove teammate status in order to kill them otherwise their heads don t pop kill player zero out and so the beeping stops set to set to whenever the player is in the clear reset everything we check for because when a companion dies the countdown for speakers will immediately end and the one for having a dead companion will begin give the player a second countdown if christine is in the party if followers set to else set to set to set to set to set to set to set to script to handle the countdown when a follower dies first we determine if any companion has died in non hardcore mode otherwise the companion s block should have handled everything if once a follower dies everyone has a certain amount of time to panic make their peace then the rest of the collars go boom in the casino this will give the player time to escape the floor before the collar goes off if player if the follower died outside the casino run the countdown otherwise only run the countdown if the player is in the same cell as the dead follower if set to handle constant beeping vibration if calculate how long until next beep set to time s up collars explode check if each follower was the one that already died since the dead follower s collar shouldn t explode with the rest if kill player if kill player if kill player finally the player dies too player player kill player set var so explosion only happens once set to zero out and so the beeping stops set to set to player the player made it to another cell reset the timer and clear the dead follower var player escaped show message that the collar has stopped beeping reset death timer set to set to set to set to set to final to seal global check jorge end
collar speaker script being used by an unknown object
this script is placed on the various radios and speakers found in float tracks the distance between this emitter and the player short tracks whether the emitter is on or off short tracks whether the player is currently inside the radio s radius short tracks whether the radio speaker has been destroyed short flag var short tracks whether the speaker has updated its animation state erence variable to this object used mostly for checking type int stores the radius in which to check for the player int we set this so we only have to check the speaker id in one place not set radio ham radio indestructible speaker destructible speaker animation states for speakers indestructible speakers on updated from idle to forward off destructible speakers on forward destroyed begin only destructible speakers and radios radio can be destroyed we handle the change in appearance vinimation states because swapping the model using the destruction stage appears to wait for the current animation to cycle forward shut radio down clear set to decrement the number of radii the player is currently in but only if the player is in the emitter s radius added so that message displays only if we re about to reduce count to active radius jorge set to set to set the speaker radio to destroyed this is mainly used as a backup for special cases where such objects are not on by default and can be destroyed and then turned on later set to note the speaker is set to the destroyed state in its own destruction stage stop radio audio if activate give a lesser amount of if you just shoot them end begin initialization we do a bunch of initialization stuff the first time a speaker loads such as set its radius based on type determine if its already on etc we re doing it here in the because loaded act as if blocks for objects in the area haven t run effectively shutting off all speakers in an area if set to set to for all speakers and radios that are on by default set them to active important if you add a speaker or radio that is off by default add it here if forward else set to initialize object based on type including setting the radius and whether it can be turned on and off by activating it radios short radii can be turned on and off by activating locally if radio set to start radios as on to begin with activate set to invulnerable speakers longer radii can be turned on and off remotely set to changed value to to reflect current preference removed half id versions jorge if activate invulnerable speakers start as destroyed so they can t be interacted with terminals linked to them un destroy them activate them then re destroy them set to destructible speakers long radii can only be destroyed set to changed value to to reflect current preference removed half id versions jorge start radios as on to begin with activate destructible speakers now play when intact so the animation needs to be started when they first load set to else collar speaker script being used by an unknown object important if additional radio or speaker types are added they should be added to this list end initialization here we constantly check if the player is within the object s radius if they are we either start or continue the bomb collar beeping and increment a var that tracks how many radii the player is currently in as long as that number is quest handles the continued beeping and eventual grisly consequences if collars added check to prevent extra messages or beeps when global variable is jorge return else set to player only check distance and stuff if the radio is on and not destroyed if quick anim check if the speaker is on and not destroyed make sure its light is on we do this in case a light is turned on vi switch in another cell since the and ps don t update the animation states of objects in another cell the pc does if set to if player just entered radio s radius begin beeping countdown etc the player wasn t in any radii before entering this one if make the collar start beeping increment the number of radii the player is currently in set to set var so this radio knows the player is in its radius set to player just left the radio s radius it should no longer affect him her clear the radius var associated with this trigger set to test if the player is still inside any radii if show message that the collar has stopped beeping set var so this radio knows the player is no longer in its radius set to special check to turn off speakers that are deactivated in another cell since animation states don t update between cells on the ps if forward set to end of collar s global check jorge end block for radios if they re turned off set them destroyed no reason to ever turn them on again player activate set to decrement the number of radii the player is currently in but only if the player is in the emitter s radius added so that message displays only if we re about to reduce count to active radius jorge set to set to end
dm added so that valve can t be interacted with after being repaired used short repaired ref player repaired set used to skill check is in this message box end used set to player repair set to disable set repaired to set used to player else if set used to end
int player added check to prevent message from adding if object is given to an through script jorge if player added to include one more note upon first receiving the entertainer pass from dean jorge set to end
int player if the pass is from dog start his barks if if set to player greeting player set to player set to end
int int bonce int variable set by the security terminal in the maintenance room to unlock doors int reprogram used to change holograms to hate christine reprogrammed int set to when the starlet code snippet is downloaded for the lobby starlet sequence int set to when christine is trying to set off the player s collar float timer to control when christine attempts to set off the player s collar float timer to control collar beeps float timer to control scan delay int set to kill player if timer runs out and player is in kill radius int set to when christine has started combat with the player int set to when christine has lost contact and is scanning for the player int set to when christine is resetting the close radius collar attack int controls message int collar combat override check variable set in dialogue begin set to this variable controls christine s dialogue and scripting in the suites else default is zero which means she is not your friend set followers to set to duplicate move command for testing enable if ref disable ammo ga lock set to unlock unlock script to shut down hologram aggression toward player once reprogrammed if bonce if reprogram player used terminal to set holograms to attack christine on sight if hologram is enabled and detecting the player lock out the code box control if set to if set to if set to set bonce to fall through starlet hologram speech initiator if say if say if say christine s collar range toggle script ensure the collar script shuts off if christine is dead set to set to if player player tell the player it is happy go go collar time say set to player set to set to set to set to set to set to set to set to set to say christine says she s switching to ranged mode if player set to set to set to set to say tell the player the reset timer has started set to set to set to set to christine s collar attack script if set to set to if if set to else set to reset the beep timer and increment the beep counter set to if set to reset the beep timer and increment the beep counter set to reset the beep timer and increment the beep counter set to time s up collars explode set to set to set to if player player kill player set to end
script to control the holograms behaviors and ai detection that works in tandem with an emitter a terminal and up to three hologram jorge hologram reference variables ref hologram states variables short hologram radius and timer variables float float float float float level specific patrol variables short begin code begin set to set to set to set to set to set to set to set to set to set to set to end hologram a is functional on if hologram a is at blue threat level if player if hologram a s distance to player is too close then set the timer from yellow to red at half value make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return player if hologram a s distance to player is enough to switch threat level make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return if hologram a is at yellow threat level if if player make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return else make hologram lose its previous shader yellow make hologram step its threat level down yellow to blue player make hologram stop looking at player make hologram reset its ai so that it continues its patrols alternatively add packages through terminals etc set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in if player if hologram a s distance to player is too close despite timer make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return if if player player hologram a continues attacking set to timer value for hologram to step down back to yellow from red after chasing players around yer again debug text return else make hologram lose its previous shader red make hologram step its threat level down red to yellow make hologram stop fighting player for now make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in if hologram a is functional on if hologram a is at blue threat level if player if hologram a s distance to player is too close then set the timer from yellow to red at half value make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return player if hologram a s distance to player is enough to switch threat level make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return if hologram a is at yellow threat level if if player make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return else make hologram lose its previous shader yellow make hologram step its threat level down yellow to blue player make hologram stop looking at player make hologram reset its ai so that it continues its patrols alternatively add packages through terminals etc set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in if player if hologram a s distance to player is too close despite timer make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return if if player player hologram a continues attacking set to timer value for hologram to step down back to yellow from red after chasing players around yer again debug text return else make hologram lose its previous shader red make hologram step its threat level down red to yellow make hologram stop fighting player for now make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in if hologram a is functional on if hologram a is at blue threat level if player if hologram a s distance to player is too close then set the timer from yellow to red at half value make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return player if hologram a s distance to player is enough to switch threat level make hologram lose its previous shader blue make hologram turn to next threat level shader yellow make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to up the threat level variable for this hologram return if hologram a is at yellow threat level if if player make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return else make hologram lose its previous shader yellow make hologram step its threat level down yellow to blue player make hologram stop looking at player make hologram reset its ai so that it continues its patrols alternatively add packages through terminals etc set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in if player if hologram a s distance to player is too close despite timer make hologram lose its previous shader yellow make hologram turn to next threat level shader red player hologram ttacks set to timer value for hologram to step down back to yellow from red yer debug text set to up the threat level variable for this hologram return if if player player hologram a continues attacking set to timer value for hologram to step down back to yellow from red after chasing players around yer again debug text return else make hologram lose its previous shader red make hologram step its threat level down red to yellow make hologram stop fighting player for now make hologram stop on the spot look player force hologram to look at player set to timer value for hologram to go back to normal if players keep their distance set to set the threat level back to normal return else set to set the threat timer to countdown from value established above in end finish code
script short used as a float begin player is inside the bunker pre patch so warp him out for safety if player player lock set to used to add forms to existing used primarily to add items to that the animation system uses for conditions if regular holdout weapons improved holdout weapons vera s dress for veronica make ignite gas when fired within gas volume set to if radio new vegas is enabled it means the player has completed and has exited doc mitchell s house set to set to if set to set to enable set to else set to end
quest script used to track variables that holograms will use to determine whether they need to re apply their basic shaders it also handles a variable that gets set when players cross trigger volumes that define the area of action after which holograms will not pursue combat any farther finally here we track events that disable hologram emitters short this variable tracks whether players come from a loading screen short this variable tracks whether players come from a loading screen but it s used by friendly holograms short this variable tracks whether players come from a loading screen but it s used by friendly holograms that belong to a second code box used in the same level as the default one short this variable tracks whether players have just crossed a hologram stop trigger short this variable tracks whether players have just disabled a hologram emitter
note christine s editor id christine christine s reference in the world is int int int int int int waiting int variable to toggle collar timer on off int bonce christine is chatting with another short player collar detonation in progress used to prevent the player from losing karma by lying to christine to get her in the elevator more than once begin player is attempting to pickpocket christine if player player gala event hasn t fired and christine isn t hired so christine automatically notices and says something if followers say greeting return else activate if activate we don t want the player talking to christine as she heads to the elevator gala do nothing else activate end c if followers set followers to set followers to set followers to player set flag so we can easily check if christine is dead set followers to show a message to let the player know christine died in case it s not obvious but only if the player has met christine if set the ref so that the collar detonates because one of the main characters died set to if christine dies in the suites the player can survive by making it to another area if suites set to set to unlock ref say added for challenge loose ends set for bomb collar countdown set to set to set to show message about collar beginning death beep sequence if the player s alive if end using to heal limb damage now so that companions are never crippled end copied over from followers changed to no other changes if player attacks christine before she s been recruited elijah sets off the collar begin player if suites bonce set bonce to followers followers if suites player say player now instantly dies if he attacks a companion player player obsolete player could make an resulting in unavoidable death if he used that save set to set to set to set to set to player end begin player if suites set to end adding in post combat health end
this script handles all of the firing logic for the companions in usage to fire a companion simply activate with the companion you wish to fire ex activate ref begin set to clear the soon to be former follower s behaviors assistance do character specific stuff if set waiting to set followers to set followers to dean left the party remove his perk and show a message about it player show a message about dean leaving only if he s not at his gala position if set waiting to set followers to set followers to christine left the party remove her perk and show a message about it player show a message that christine has left the party we don t show this when she leaves to get into her gala position because the message says christine returned to the fountain which she hasn t if set waiting to set followers to set followers to dog god left the party show message about removing his perk or fake perk if dog remove from debug remove message describes the loss of dog s ability to eat ghost people player god remove from debug remove show a message about dog leaving only if he s not at his gala position if clear var tracking whether the player has a companion set followers to clear the follower reference var so checks will show there s no one with the player set followers to end